{"version":3,"sources":["components/Floor.js","components/LiftContainer.js","App.js","index.js"],"names":["Floor","props","lifts","i","noOfLifts","push","id","className","document","documentElement","style","setProperty","floorNo","first","onClick","setTimeout","downClicked","last","upClicked","LiftContainer","floors","liftRecord","liftMoving","closestVal","arr","K","res","m","length","Math","abs","useEffect","liftid","getElementById","disabled","floorDiff","lift","buttonBox","Diff","offsetTop","offsetHeight","currentTop","top","parseInt","noOfFloors","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.fd843b1d.chunk.js","sourcesContent":["function Floor(props){\r\n    let lifts = []\r\n    for(let i = 1;i<=props.noOfLifts;i++){\r\n        lifts.push(<div id={`lift${i}`} className=\"lift\" key={i}></div>);\r\n    }\r\n    let root = document.documentElement;\r\n    root.style.setProperty('--floorHeight', `200px`);\r\n    return (\r\n        <div className=\"d-flex flex-row floor\">\r\n            <div className=\"d-flex flex-column-reverse floorBox\">\r\n                <div className=\"container baseLine\"></div>\r\n                <div className=\"d-flex flex-row justify-content-between innerFloorBox\">\r\n                    <div id={`buttonBox${props.floorNo}`} className=\"buttonBox d-flex flex-column-reverse\">\r\n                        {props.first === false && <button className=\"rounded downButton\" id={`downButton${props.floorNo}`} onClick={() => setTimeout(props.downClicked(props.floorNo), 0)}>Down</button>}\r\n                        {props.last === false && <button className=\"rounded upButton\" id={`upButton${props.floorNo}`} onClick={() => setTimeout(props.upClicked(props.floorNo), 0)}>Up</button>}\r\n                    </div>\r\n                    {\r\n                        props.first && <div className=\"d-flex flex-row justify-content-around lifts\">\r\n                            {lifts}\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className=\"d-flex flex-column-reverse floorTitle\">\r\n                <p className=\"title\">Floor {props.floorNo}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Floor;","import { useEffect } from 'react';\r\nimport Floor from './Floor';\r\nfunction LiftContainer(){\r\n    var noOfFloors = 20;\r\n    var noOfLifts = 5;\r\n    var floors = [];\r\n\r\n    var liftRecord = [];\r\n    var liftMoving = [];\r\n\r\n    for(let i = 0; i < noOfLifts; i++){\r\n        liftRecord.push(1);\r\n        liftMoving.push(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n    });\r\n\r\n    function closestVal(arr, K){\r\n        let res = arr[0];\r\n        let m = 0;\r\n        for(let i = 1; i < arr.length; i++){\r\n            if (Math.abs(K - res) > Math.abs(K - arr[i])){\r\n                res = arr[i];\r\n                m = i;\r\n            }\r\n        }\r\n        return m;\r\n    }\r\n\r\n    const downClicked = (floorNo) => {\r\n        const liftid = closestVal(liftRecord, floorNo);\r\n        if(liftRecord[liftid] !== floorNo){\r\n            document.getElementById(`downButton${floorNo}`).disabled = true;\r\n            if(liftMoving[liftid] === true) {\r\n                setTimeout(() => downClicked(floorNo), 100);\r\n            } else {\r\n                liftMoving[liftid] = true;\r\n                let floorDiff = Math.abs(floorNo - liftRecord[liftid]);\r\n                let root = document.documentElement;\r\n                root.style.setProperty('--transitionTime', `${floorDiff*2}s`);\r\n                const lift = document.getElementById(`lift${liftid + 1}`);\r\n                const buttonBox = document.getElementById(`buttonBox${floorNo}`);\r\n                let Diff = (buttonBox.offsetTop + buttonBox.offsetHeight) - (lift.offsetTop + lift.offsetHeight);\r\n                let currentTop = 0\r\n                if(lift.style.top !== \"\"){\r\n                    currentTop = parseInt(lift.style.top);\r\n                }\r\n                if(currentTop === 0){\r\n                    lift.style.top = `${Diff}px`;\r\n                }else{\r\n                    lift.style.top = `${currentTop + Diff}px`\r\n                }\r\n                setTimeout(() => {\r\n                    liftMoving[liftid]=false;\r\n                    liftRecord[liftid] = floorNo;\r\n                    if(floorNo !== noOfFloors) document.getElementById(`upButton${floorNo}`).disabled = false;\r\n                    if(floorNo !== 1) document.getElementById(`downButton${floorNo}`).disabled = false;\r\n                }, floorDiff*2000);   \r\n            }\r\n        }\r\n    };\r\n\r\n    const upClicked = (floorNo) => {\r\n        const liftid = closestVal(liftRecord, floorNo);\r\n        if(liftRecord[liftid] !== floorNo){\r\n            document.getElementById(`upButton${floorNo}`).disabled = true;\r\n            if(liftMoving[liftid] === true) {\r\n                setTimeout(() => upClicked(floorNo), 100);\r\n            } else {\r\n                liftMoving[liftid] = true;\r\n                let floorDiff = Math.abs(floorNo - liftRecord[liftid]);\r\n                let root = document.documentElement;\r\n                root.style.setProperty('--transitionTime', `${floorDiff*2}s`);\r\n                const lift = document.getElementById(`lift${liftid + 1}`);\r\n                const buttonBox = document.getElementById(`buttonBox${floorNo}`);\r\n                let Diff = (buttonBox.offsetTop + buttonBox.offsetHeight) - (lift.offsetTop + lift.offsetHeight);\r\n                let currentTop = 0\r\n                if(lift.style.top !== \"\"){\r\n                    currentTop = parseInt(lift.style.top);\r\n                }\r\n                if(currentTop === 0){\r\n                    lift.style.top = `${Diff}px`;\r\n                }else{\r\n                    lift.style.top = `${currentTop + Diff}px`\r\n                }\r\n                setTimeout(() => {\r\n                    liftMoving[liftid]=false;\r\n                    liftRecord[liftid] = floorNo;\r\n                    if(floorNo !== noOfFloors) document.getElementById(`upButton${floorNo}`).disabled = false;\r\n                    if(floorNo !== 1) document.getElementById(`downButton${floorNo}`).disabled = false;\r\n                }, floorDiff*2000);   \r\n            }\r\n        }\r\n    };\r\n\r\n    for(var i=noOfFloors;i>0;i--){\r\n        floors.push(<Floor downClicked={downClicked} upClicked={upClicked} first={i === 1} last={i === noOfFloors} noOfLifts={noOfLifts} noOfFloors={noOfFloors} key={i} floorNo={i}></Floor>)\r\n    }\r\n    return (\r\n        <div className=\"LiftContainer d-flex align-items-center justify-content-center\">\r\n            <div className=\"innerLiftContainer d-flex flex-column\">\r\n                {floors}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiftContainer;","import './App.css';\r\nimport LiftContainer from './components/LiftContainer';\r\nfunction App() {\r\n  return (\r\n    <div className=\"container-fluid d-flex justify-content-center align-items-center mainContainer\">\r\n      <LiftContainer/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}